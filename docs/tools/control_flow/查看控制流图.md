# 查看控制流图

## 功能说明

控制流图展示了控制流的结构，可以帮助开发者清晰了解循环和分支判断等控制流逻辑及关联关系。

## 前提条件

执行PyPTO程序，生成运行结果界面。详细请参见[数据准备](../introduction/数据准备.md)。

## 操作步骤

1.  打开控制流图。

    在Visual Studio Code侧边栏，单击![](../figures/zh-cn_image_0000002523427405.png)图标，打开PyPTO Toolkit，在运行结果界面中，单击“结果总览”。

    **图 1**  控制流图  
    ![](../figures/control_flow.png)

    控制流图中展示LOOP（循环节点）、IF（分支判断节点），以及PATH节点，及对应的执行关系。

    用户可以通过鼠标滚轮和小地图控制缩放比例。

    -   当缩放比例大于或等于50%时，所有控制流细节均会被显示。
    -   当缩放比例在30%至50%之间时，仅最外层的LOOP标签完全显示。
    -   当缩放比例小于30%时，PATH节点内的细节将被隐藏。

2.  查看LOOP和IF对应的代码片段。

    单击LOOP名称右侧的代码预览图标，可以预览对应的代码片段，并且可以通过单击“分屏查看”进一步查看源代码。

    **图 2**  查看代码片段  
    
    ![](../figures/zh-cn_image_0000002533948285.png)

3.  查看IF节点的条件表达式。

    鼠标悬浮在IF节点，可查看该IF节点的条件表达式。

    **图 3**  查看IF节点条件表达式  
    ![](../figures/if_condition_expression.png)

4.  查看PATH节点。

    **图 4**  PATH节点  
    ![](../figures/path.png)

    **表 1**  PATH节点参数说明

    |参数|说明|
    |--|--|
    |PATH名称|例如上图所示PATH0。单击PATH名称，可跳转到对应的计算图；单击右侧的![](../figures/zh-cn_image_0000002490272452.png)，可跳转到所有计算图。|
    |leaf函数个数|显示当前PATH节点的子函数个数。单击可跳转到详情页面。|
    |leaf被调用次数|显示当前PATH节点被其他函数调用的次数。单击可跳转到详情页面。|
    |调用leaf次数|显示当前PATH节点调用其他函数的次数。单击可跳转到详情页面。|


    下面对上表中的参数进行具体解释，如[图5](#fig5)所示，如果在PATH0节点下有leaf1、leaf2、leaf3三个函数，其中leaf1被PATH0调用2次，leaf2被PATH0调用4次，leaf3被PATH0调用1次，又被PATH1调用3次。总计，PATH0中的函数个数为3个，PATH0的调用次数为7次，PATH0内的leaf1、leaf2、leaf3的总调用次数为10次。特别说明：leaf3属于PATH0，因此PATH1的leaf函数个数只有1个，即leaf4。

    (fig5)=
    **图 5**  调用关系说明<a id="fig5"></a>  
    ![](../figures/invoke_relation.png)

