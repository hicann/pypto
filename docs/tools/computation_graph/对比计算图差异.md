# 对比计算图差异

## 功能说明

用于对比和查看两个计算图的数据差异，差异包含节点新增、删除和修改。当两个图差异超过50%且差异节点数量大于400时，不显示具体差异项。

## 前提条件

执行PyPTO程序，生成计算图文件。

## 操作步骤

1.  PyPTO Toolkit提供了两种方式进入计算图差异对比界面。
    -   在Visual Studio Code工作区，右键单击计算图文件，例如xx.json，在弹出的菜单中选择“PyPTO Toolkit：高级操作”，在展开的二级菜单中选择“PyPTO Toolkit：打开计算图差异对比”。

        ![](../figures/Snipaste_2025-12-26_17-04-02.png)

    -   单击计算图界面的![](../figures/zh-cn_image_0000002512375529.png)按钮。![](../figures/zh-cn_image_0000002480216826.png)

2.  在弹出的界面中选择待对比的计算图（默认自动查找文件名相同的对比文件，例如打开的是After\_xxx.json文件，则自动在同目录下查找Before\_xxx.json文件，反之同理。仅当未自动找到对比文件时，右侧才会出现选择文件的按钮）。

    ![](../figures/zh-cn_image_0000002480444986.png)

3.  查看比对结果。

    ![](../figures/zh-cn_image_0000002512376711.png)

    左侧显示差异列表，差异包含节点新增（![](../figures/zh-cn_image_0000002483775352.png)）、删除（![](../figures/zh-cn_image_0000002515775339.png)）和修改（![](../figures/zh-cn_image_0000002484831426.png)）。

4.  单击列表项可将图中的对应节点高亮并移动到视图中间，方便用户查看差异点。
5.  单击差异节点名称，展示详细的差异信息。

    ![](../figures/zh-cn_image_0000002502411480.png)

